<section ng-controller="AdminDealsController">
  <h2 class="ad-page-heading">Deals</h2>
  <div class="options">
    <div class="options-bar" class="btn-group">
      <a data-toggle="modal" data-target="#createDeal" type="button" class="btn">
        <i class="glyphicon glyphicon-plus"></i>
      </a>
    </div>

  </div>

  <div id="createDeal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">New deal</h4>
        </div>
        <div class="modal-body">
          <div ng-show="error.length" class="alert alert-warning">{{error}}</div>
          <div ng-show="success.length" class="alert alert-success">{{success}}</div>
          <form novalidate>
            <label>Name</label>
            <input ng-model="deal.name" type="text" class="form-control" placeholder="(Please enter a name)" aria-describedby="namelabel" required />
            <label>Description</label>
            <textarea required ng-model="deal.description" class="form-control" placeholder="(Try to keep it one-liner)" aria-describedby="namelabel"></textarea>
            <label>Type</label>
            <select ng-model="deal.type" class="form-control">
              <option value="prepaid">Pre-Paid</option>
              <option value="prebook">Pre-Book</option>
              <option value="postpaid">Post-Paid</option>
            </select>
            <label>Deal Start Date</label>
            <input type="datetime-local" ng-model="deal.startDate" class="form-control" />
            <label>Deal End Date</label>
            <input type="datetime-local" ng-model="deal.endDate" class="form-control" />
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button ng-click="create()" type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <div class="col-lg-12">

    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th>Title</th>
            <!-- <th>Description</th> -->
            <th>Type</th>
            <th>Event(s)</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Created By</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="d in deals track by $index">
            <td>{{d.name}}</td>
            <!-- <td></td> -->
            <td>{{d.type}}</td>
            <td><a href="javascript:void(0)"><i class="glyphicon glyphicon-info"></i>Show All</a></td>
            <td>{{d.startDate | toSec | date: 'dd MMM, yyyy'}}</td>
            <td>{{d.endDate | toSec | date: 'dd MMM, yyyy'}}</td>
            <td>{{d.createdBy}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  
</section>
